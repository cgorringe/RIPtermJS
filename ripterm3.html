<!DOCTYPE html>
<html>
<head>
	<title id="path1"></title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lte IE 8]><script src="/ass/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="/ass/css/main.css" />
	<link rel="stylesheet" href="/ass/css/magnific-popup.css" />
	<link rel="stylesheet" href="/ass/js/highlight/styles/default.css" />
	<noscript><link rel="stylesheet" href="/ass/css/noscript.css" /></noscript>
	<!--[if lte IE 8]><link rel="stylesheet" href="/ass/css/ie8.css" /><![endif]-->
</head>
<body>
	<!-- Wrapper-->
	<div id="wrapper">

		<!-- Main -->
		<div id="main">

			<article id="pub" class="panel">
				<header>
				</header>
				<section>
					<div class="row">
						<div class="12u">

<h2>RIPtermJS (v3)</h2>
<h6>2021</h6>
<h4>WORK IN PROGRESS</h4>
<br>
<p>
  Select a RIP file to display from the dropdown list below, then <strong>Load RIP</strong> and <strong>Start</strong> to draw it.<br>
<!-- RIP<em>scrip</em> commands are shown on the right.  <em>Blue = implemented, red = skipped.</em> -->
</p>
<style>
	#rip-canvas {
		background-color: #000;
		width: 640px;
		height: 350px; /* use this later to stretch: 480px */
	}
	#rip-canvas-frame {
		float: left;
		margin: 4px 8px 4px 0;
		width: 656px;
		height: 366px; /* use this later to stretch: 496px */
	}
	#rip-svg {
		background-color: #000;
		width: 640px;
		height: 480px; /* 350px */
	}
	#rip-svg-frame {
		float: left;
		margin: 4px 8px 4px 0;
		width: 656px;
		height: 496px; /* 366px */
	}
	#rip-text {
		visibility: hidden; /*** TEST ***/
		/* border:solid 1px #999; */
		margin: 4px 0;
		padding: 0px 8px;
		width: 136px;  /* 144px */
		height: 366px; /* was 496px */
		overflow: auto;
		background: #333;
		font-family: monospace;
		font-size: 12px;
		color: #fff;
		vertical-align: top;
	}
	#rip-text::after {
		/* content: "";
		display: block;
		clear: both; */
	}
	.clear {
		clear: both;
	}
	#rip-counter {
		visibility: hidden; /*** TEST ***/
		float: right;
		font-size: 12pt;
		/* font-weight: bold; */
		line-height: 30px;
		/* clear: both; */
	}
	.debugOptions {
		padding-left: 0.5em;
		font-size: 12pt;
	}
	.debugOptions * {
		padding-right: 0.5em;
		font-weight: 400;
	}
	.cmd-ok  { color: #88f; }
	.cmd-not { color: #f88; }
	.cmd-paused { color: #ff8; }
</style>
<div>

	<select id="rip-files" onchange="selectRIP()">
		<option value="rips/BEAR.RIP">Bear</option>
		<option value="rips/BILL.RIP">Bill</option>
		<option value="rips/BULLETIN.RIP">Bulletin</option>
		<option value="rips/BUTFLY.RIP">Butterfly</option>
		<option value="rips/CAPITOL.RIP">Capitol</option>
		<option value="rips/CARN.RIP">Carnivores</option>
		<option value="rips/DOORS.RIP">Doors</option>
		<option value="rips/DRAGON01.RIP">Dragon #1</option>
		<option value="rips/DRAGON02.RIP">Dragon #2</option>
		<option value="rips/FIERO.RIP">Fiero</option>
		<option value="rips/FILE5.RIP">File 5</option>
		<option value="rips/FINISHLN.RIP">Finish Line</option>
		<option value="rips/FLIGHT.RIP">Flight</option>
		<option value="rips/FS7_SHUT.RIP">FS7 Shuttle</option>
		<option value="rips/GARFIELD.RIP">Garfield #1</option>
		<option value="rips/GFIELD2.RIP">Garfield #2</option>
		<option value="rips/GOODBYE.RIP">Goodbye</option>
		<option value="rips/HELLO2.RIP">Hello 2</option>
		<option value="rips/JULY493.RIP">July 4, 1993</option>
		<option value="rips/LTHOUSE.RIP">Lighthouse</option>
		<option value="rips/MAIN5.RIP">Main 5</option>
		<option value="rips/MSG5.RIP">Msg 5</option>
		<option value="rips/NEWMOUNT.RIP">New mount</option>
		<option value="rips/PLANE.RIP">Plane</option>
		<option value="rips/PMID1.RIP">Pyramid 1</option>
		<option value="rips/POSTRIP.RIP">POSTRIP</option>
		<option value="rips/PRELOG.RIP">PRELOG</option>
		<option value="rips/QUESTION.RIP">Question</option>
		<option value="rips/SBBS2.RIP">SBBS2</option>
		<option value="rips/SURFER1.RIP">Surfer 1</option>
		<option value="rips/SYSOP9.RIP">Sysop 9</option>
		<option value="rips/TWEED_AD.RIP">Tweed</option>
		<option value="rips/ZIGPARTY.RIP">Zig Party</option>
		<option value="rips/11FV.RIP">11FV</option>
		<option value="rips/184.RIP">184</option>
		<option value="rips/ACOMA.RIP">ACOMA</option>
		<option value="rips/ANGEL.RIP">Angel</option>
		<option value="rips/BAKER.RIP">Baker</option>
		<option value="rips/BIMBO.RIP">Bimbo</option>
		<option value="rips/CAVE2.RIP">Cave 2</option>
		<option value="rips/FELIX.RIP">Felix</option>
		<option value="rips/GHOST.RIP">Ghost</option>
		<option value="rips/HOLLY.RIP">Holly</option>
		<option value="rips/HOUND.RIP">Hound</option>
		<option value="rips/IRIS.RIP">Iris</option>
		<option value="rips/JDRAW.RIP">JDraw</option>
		<option value="rips/LEAVES.RIP">Leaves</option>
		<option value="rips/MAMA.RIP">Mama</option>
		<option value="rips/NO-L.RIP">NO-L</option>
		<option value="rips/NOSHIT.RIP">No Shit</option>
		<option value="rips/NOUVEAU.RIP">Nouveau</option>
		<option value="rips/OPUS.RIP">Opus</option>
		<option value="rips/PAPERCUT.RIP">Papercut</option>
		<option value="rips/PERSEID.RIP">Perseid</option>
		<option value="rips/PISANKI.RIP">Pisanki</option>
		<option value="rips/POSADA.RIP">Posada</option>
		<option value="rips/PUMPKIN.RIP">Pumpkin</option>
		<option value="rips/RIPDELIC.RIP">RIPedelic</option>
		<option value="rips/SH.RIP">SH</option>
		<option value="rips/SKATE.RIP">Skate</option>
		<option value="rips/SOCCER.RIP">Soccer</option>
		<option value="rips/SPRING.RIP">Spring</option>
		<option value="rips/STEREO1.RIP">Stereo #1</option>
		<option value="rips/STEREO2.RIP">Stereo #2</option>
		<option value="rips/STPATS95.RIP">STPATS95</option>
		<option value="rips/UKIYOE.RIP">Ukiyoe</option>
		<option value="rips/VAL94.RIP">VAL94</option>
		<option value="rips/VOTE.RIP">Vote</option>
		<option value="rips/WW02.RIP">Wishing Well</option>
		<option value="rips/XMAS-94.RIP">XMAS-94</option>
		<option value="rips/CITY.RIP" selected>City</option>
		<option value="rips/MOTION.RIP">Motion</option>
		<option value="rips/FRACTMTN.RIP">Fractal Mountain</option>
		<option value="temp/TESTFILL.RIP">Test Fill</option>
	</select>

	<!-- <button onclick="rip.clear();">Clear</button> -->
	<button onclick="loadRIP()">Load RIP</button>
	<button onclick="rip.start();">Start</button>
	<button onclick="rip.stop();">Stop</button>
	<button onclick="rip.reset();">Reset</button>
	<button onclick="rip.fullscreen();">Full Screen</button>
	<span id="rip-counter"> / </span>
	<div class="clear"></div>

	<div id="rip-canvas-frame" class="framed">
		<canvas id="rip-canvas" width="640" height="350"></canvas>
	</div>
	<div>
		<div id="rip-text" class="framed">
		RIPscript here...<br/>
		</div>
	</div>

	<a onclick="this.setAttribute('href',getCanvasPNG());" download="canvas.png" class="noline">
		<button>Save PNG</button></a>
</div>

<!-- <script src="potrace-modified.js"></script> -->
<!-- <script type="module" src="src/ripterm3.js"></script> -->

<script src="src/BGI.js"></script>
<script src="src/ripterm3.js"></script>
<script>

	testBGI({ canvasId: 'rip-canvas' }); // TEST
	const rip = new RIPterm({ canvasId: 'rip-canvas', timeInterval: 1, refreshInterval: 10});

	function selectRIP() {
	}

	function loadRIP() {
		let url = document.getElementById('rip-files').value;
		rip.readFile(url);
	}

	function text2base64(text) {
		//return window.btoa(unescape(encodeURIComponent(text)));
	}
	function getCanvasPNG() {
		return document.getElementById('rip-canvas').toDataURL("image/png").replace("image/png", "image/octet-stream");
	}

</script>
<br><br>



							</div>
						</div>
					</section>
				</article>
		</div><!-- END Main -->

		<!-- Footer -->
		<div id="footer">
			<ul class="copyright">
				<li>&copy; 2021 Carl Gorringe</li>
			</ul>
		</div>

	</div>

	<!-- Scripts -->
	<script src="/ass/js/jquery.min.js"></script>
	<script src="/ass/js/skel.min.js"></script>
	<script src="/ass/js/skel-viewport.min.js"></script>
	<script src="/ass/js/util.js"></script>
	<script src="/ass/js/jquery.magnific-popup.min.js"></script>
	<!--[if lte IE 8]><script src="/ass/js/ie/respond.min.js"></script><![endif]-->
	<script src="/ass/js/main.js"></script>
</body>
</html>
